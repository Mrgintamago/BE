<!-- Sidebar -->
<ul class="navbar-nav bg-gradient-primary sidebar sidebar-dark accordion toggled" id="accordionSidebar">

    <!-- Sidebar - Brand -->
    <a class="sidebar-brand d-flex align-items-center justify-content-center" href="/">
        <div class="sidebar-brand-icon">
            <i class='fas fa-home'></i>
        </div>

        <div class="sidebar-brand-text mx-2">TQN Figure Admin</div>
    </a>

    <!-- Divider -->
    <hr class="sidebar-divider my-0">

    <!-- Nav Item - Dashboard -->
    <% const userRole = typeof user !== 'undefined' ? user.role : ''; %>
    <% const isSuperAdmin = userRole === 'super_admin'; %>
    <% const isAdmin = userRole === 'admin'; %>
    <% const isManager = userRole === 'manager'; %>
    <% const isSalesStaff = userRole === 'sales_staff'; %>
    <% const canViewAnalytics = isSuperAdmin || isAdmin || isManager; %>
    <% const canManageUsers = isSuperAdmin || isAdmin; %>
    <% const canViewCustomers = isSuperAdmin || isAdmin || isSalesStaff; %>
    <% const canManageOrders = isSuperAdmin || isAdmin || isManager; %>
    <% const canManageProducts = isSuperAdmin || isAdmin; %>
    <% const canManageCategories = isSuperAdmin || isAdmin; %>
    <% const canManageBrands = isSuperAdmin || isAdmin; %>
    <% const canManageNews = isSuperAdmin || isAdmin || isSalesStaff; %>
    <% const canManageReviews = isSuperAdmin || isAdmin; %>
    <% const canManagePartnerReg = isSuperAdmin || isAdmin || isManager; %>

    <% if (canViewAnalytics) { %>
    <li class="nav-item">
        <a class="nav-link" href="/analytics">
            <i class="fas fa-chart-bar"></i>
            <span>Analytics</span></a>
    </li>
    <% } %>

    <!-- Divider -->
    <hr class="sidebar-divider">

    <!-- Heading -->
    <div class="sidebar-heading">
        Manage
    </div>

    <!-- Nav Item - Admin Users (Super Admin only) -->
    <% if (isSuperAdmin) { %>
    <li class="nav-item">
        <a class="nav-link" href="/admin-users">
            <i class="fas fa-user-shield"></i>
            <span>Admin Users</span></a>
    </li>
    <% } %>
    <!-- Nav Item - Customer Users (Super Admin, Admin, and Sales Staff) -->
    <% if (canViewCustomers) { %>
    <li class="nav-item">
        <a class="nav-link" href="/customer-users">
            <i class="far fa-user"></i>
            <span><%= isAdmin || isSuperAdmin ? 'Customer Users' : 'Khách hàng' %></span></a>
    </li>
    <% } %>
    <% if (canManageOrders) { %>
    <li class="nav-item">
        <a class="nav-link" href="/orders">
            <i class="fas fa-receipt"></i>
            <span>Orders</span></a>
    </li>
    <% } %>

    <!-- Divider -->
    <hr class="sidebar-divider">

    <!-- Heading -->
    <div class="sidebar-heading">
        More
    </div>
    <!-- Nav Item - Tables -->
    <% if (canManageProducts) { %>
    <li class="nav-item">
        <a class="nav-link" href="/products">
            <i class="fas fa-user-astronaut"></i>
            <span>Products</span></a>
    </li>
    <% } %>
    <% if (canManageReviews) { %>
    <li class="nav-item">
        <a class="nav-link" href="/reviews">
            <i class="fas fa-star"></i>
            <span>Reviews</span></a>
    </li>
    <% } %>
    <% if (canManageNews) { %>
    <li class="nav-item">
        <a class="nav-link" href="/news">
            <i class="fas fa-newspaper"></i>
            <span>News & Articles</span></a>
    </li>
    <% } %>
    <% if (canManagePartnerReg) { %>
    <li class="nav-item">
        <a class="nav-link" href="/partner-registrations">
            <i class="fas fa-handshake"></i>
            <span>Đăng ký Đối tác</span></a>
    </li>
    <% } %>
    <% if (canManageBrands) { %>
    <li class="nav-item">
        <a class="nav-link" href="/brands">
            <i class="fas fa-tags"></i>
            <span>Brands</span></a>
    </li>
    <% } %>
    <!-- Nav Item - Pages Collapse Menu -->
    <% if (canManageCategories) { %>
    <li class="nav-item">
        <a class="nav-link" href="/categories">
            <i class="fas fa-list-ul"></i>
            <span>Categories</span></a>
    </li>
    <% } %>
    

    

    <!-- Divider -->
    <hr class="sidebar-divider d-none d-md-block">

    <!-- Sidebar Toggler (Sidebar) -->
    <div class="text-center d-none d-md-inline">
        <button class="rounded-circle border-0" id="sidebarToggle"></button>
    </div>

    <!-- Sidebar Message -->


</ul>
<!-- End of Sidebar -->